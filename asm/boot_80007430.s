.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purposee registers

.section .text

.align 4

glabel func_80007430
/* 008030 80007430 27BDFFB8 */  addiu $sp, $sp, -0x48
/* 008034 80007434 AFB00018 */  sw    $s0, 0x18($sp)
/* 008038 80007438 AFBF001C */  sw    $ra, 0x1c($sp)
/* 00803C 8000743C 3C108001 */  lui   $s0, %hi(D_8000AF04) # $s0, 0x8001
/* 008040 80007440 3C0EA440 */  li    $t6, 0xA4400000 # 0.000000
/* 008044 80007444 8E10AF04 */  lw    $s0, %lo(D_8000AF04)($s0)
/* 008048 80007448 8DCF0010 */  lw    $t7, %lo(D_A4400010)($t6)
/* 00804C 8000744C 8E050008 */  lw    $a1, 8($s0)
/* 008050 80007450 31F80001 */  andi  $t8, $t7, 1
/* 008054 80007454 AFB8002C */  sw    $t8, 0x2c($sp)
/* 008058 80007458 8E040004 */  lw    $a0, 4($s0)
/* 00805C 8000745C 0C001378 */  jal   osVirtualToPhysical
/* 008060 80007460 AFA50044 */   sw    $a1, 0x44($sp)
/* 008064 80007464 8FB9002C */  lw    $t9, 0x2c($sp)
/* 008068 80007468 8FA50044 */  lw    $a1, 0x44($sp)
/* 00806C 8000746C 960A0000 */  lhu   $t2, ($s0)
/* 008070 80007470 00194080 */  sll   $t0, $t9, 2
/* 008074 80007474 01194021 */  addu  $t0, $t0, $t9
/* 008078 80007478 00084080 */  sll   $t0, $t0, 2
/* 00807C 8000747C 00A83021 */  addu  $a2, $a1, $t0
/* 008080 80007480 8CC90028 */  lw    $t1, 0x28($a2)
/* 008084 80007484 314B0002 */  andi  $t3, $t2, 2
/* 008088 80007488 11600008 */  beqz  $t3, .L800074AC
/* 00808C 8000748C 01222021 */   addu  $a0, $t1, $v0
/* 008090 80007490 8CAD0020 */  lw    $t5, 0x20($a1)
/* 008094 80007494 8E0C0020 */  lw    $t4, 0x20($s0)
/* 008098 80007498 2401F000 */  li    $at, -4096
/* 00809C 8000749C 01A17024 */  and   $t6, $t5, $at
/* 0080A0 800074A0 018E7825 */  or    $t7, $t4, $t6
/* 0080A4 800074A4 10000003 */  b     .L800074B4
/* 0080A8 800074A8 AE0F0020 */   sw    $t7, 0x20($s0)
.L800074AC:
/* 0080AC 800074AC 8CB80020 */  lw    $t8, 0x20($a1)
/* 0080B0 800074B0 AE180020 */  sw    $t8, 0x20($s0)
.L800074B4:
/* 0080B4 800074B4 96190000 */  lhu   $t9, ($s0)
/* 0080B8 800074B8 33280004 */  andi  $t0, $t9, 4
/* 0080BC 800074BC 51000035 */  beql  $t0, $zero, .L80007594
/* 0080C0 800074C0 8CCE002C */   lw    $t6, 0x2c($a2)
/* 0080C4 800074C4 8CC3002C */  lw    $v1, 0x2c($a2)
/* 0080C8 800074C8 C6040024 */  lwc1  $f4, 0x24($s0)
/* 0080CC 800074CC 3C014F80 */  li    $at, 0x4F800000 # 0.000000
/* 0080D0 800074D0 30690FFF */  andi  $t1, $v1, 0xfff
/* 0080D4 800074D4 44893000 */  mtc1  $t1, $f6
/* 0080D8 800074D8 05210004 */  bgez  $t1, .L800074EC
/* 0080DC 800074DC 46803220 */   cvt.s.w $f8, $f6
/* 0080E0 800074E0 44815000 */  mtc1  $at, $f10
/* 0080E4 800074E4 00000000 */  nop   
/* 0080E8 800074E8 460A4200 */  add.s $f8, $f8, $f10
.L800074EC:
/* 0080EC 800074EC 46082402 */  mul.s $f16, $f4, $f8
/* 0080F0 800074F0 24020001 */  li    $v0, 1
/* 0080F4 800074F4 3C014F00 */  li    $at, 0x4F000000 # 0.000000
/* 0080F8 800074F8 444AF800 */  cfc1  $t2, $31
/* 0080FC 800074FC 44C2F800 */  ctc1  $v0, $31
/* 008100 80007500 00000000 */  nop   
/* 008104 80007504 460084A4 */  cvt.w.s $f18, $f16
/* 008108 80007508 4442F800 */  cfc1  $v0, $31
/* 00810C 8000750C 00000000 */  nop   
/* 008110 80007510 30420078 */  andi  $v0, $v0, 0x78
/* 008114 80007514 50400013 */  beql  $v0, $zero, .L80007564
/* 008118 80007518 44029000 */   mfc1  $v0, $f18
/* 00811C 8000751C 44819000 */  mtc1  $at, $f18
/* 008120 80007520 24020001 */  li    $v0, 1
/* 008124 80007524 46128481 */  sub.s $f18, $f16, $f18
/* 008128 80007528 44C2F800 */  ctc1  $v0, $31
/* 00812C 8000752C 00000000 */  nop   
/* 008130 80007530 460094A4 */  cvt.w.s $f18, $f18
/* 008134 80007534 4442F800 */  cfc1  $v0, $31
/* 008138 80007538 00000000 */  nop   
/* 00813C 8000753C 30420078 */  andi  $v0, $v0, 0x78
/* 008140 80007540 14400005 */  bnez  $v0, .L80007558
/* 008144 80007544 00000000 */   nop   
/* 008148 80007548 44029000 */  mfc1  $v0, $f18
/* 00814C 8000754C 3C018000 */  lui   $at, 0x8000
/* 008150 80007550 10000007 */  b     .L80007570
/* 008154 80007554 00411025 */   or    $v0, $v0, $at
.L80007558:
/* 008158 80007558 10000005 */  b     .L80007570
/* 00815C 8000755C 2402FFFF */   li    $v0, -1
/* 008160 80007560 44029000 */  mfc1  $v0, $f18
.L80007564:
/* 008164 80007564 00000000 */  nop   
/* 008168 80007568 0440FFFB */  bltz  $v0, .L80007558
/* 00816C 8000756C 00000000 */   nop   
.L80007570:
/* 008170 80007570 AE02002C */  sw    $v0, 0x2c($s0)
/* 008174 80007574 8CCB002C */  lw    $t3, 0x2c($a2)
/* 008178 80007578 2401F000 */  li    $at, -4096
/* 00817C 8000757C 44CAF800 */  ctc1  $t2, $31
/* 008180 80007580 01616824 */  and   $t5, $t3, $at
/* 008184 80007584 004D6025 */  or    $t4, $v0, $t5
/* 008188 80007588 10000003 */  b     .L80007598
/* 00818C 8000758C AE0C002C */   sw    $t4, 0x2c($s0)
/* 008190 80007590 8CCE002C */  lw    $t6, 0x2c($a2)
.L80007594:
/* 008194 80007594 AE0E002C */  sw    $t6, 0x2c($s0)
.L80007598:
/* 008198 80007598 3C028001 */  lui   $v0, %hi(D_8000AFBC) # $v0, 0x8001
/* 00819C 8000759C 8C42AFBC */  lw    $v0, %lo(D_8000AFBC)($v0)
/* 0081A0 800075A0 8CCF0030 */  lw    $t7, 0x30($a2)
/* 0081A4 800075A4 0002C400 */  sll   $t8, $v0, 0x10
/* 0081A8 800075A8 01F8C823 */  subu  $t9, $t7, $t8
/* 0081AC 800075AC 03224021 */  addu  $t0, $t9, $v0
/* 0081B0 800075B0 AFA80034 */  sw    $t0, 0x34($sp)
/* 0081B4 800075B4 96030000 */  lhu   $v1, ($s0)
/* 0081B8 800075B8 8CA7001C */  lw    $a3, 0x1c($a1)
/* 0081BC 800075BC 30690020 */  andi  $t1, $v1, 0x20
/* 0081C0 800075C0 11200002 */  beqz  $t1, .L800075CC
/* 0081C4 800075C4 306A0040 */   andi  $t2, $v1, 0x40
/* 0081C8 800075C8 00003825 */  move  $a3, $zero
.L800075CC:
/* 0081CC 800075CC 5140000D */  beql  $t2, $zero, .L80007604
/* 0081D0 800075D0 306B0080 */   andi  $t3, $v1, 0x80
/* 0081D4 800075D4 AE00002C */  sw    $zero, 0x2c($s0)
/* 0081D8 800075D8 8E040004 */  lw    $a0, 4($s0)
/* 0081DC 800075DC AFA70038 */  sw    $a3, 0x38($sp)
/* 0081E0 800075E0 AFA60024 */  sw    $a2, 0x24($sp)
/* 0081E4 800075E4 0C001378 */  jal   osVirtualToPhysical
/* 0081E8 800075E8 AFA50044 */   sw    $a1, 0x44($sp)
/* 0081EC 800075EC 8FA50044 */  lw    $a1, 0x44($sp)
/* 0081F0 800075F0 8FA60024 */  lw    $a2, 0x24($sp)
/* 0081F4 800075F4 8FA70038 */  lw    $a3, 0x38($sp)
/* 0081F8 800075F8 00402025 */  move  $a0, $v0
/* 0081FC 800075FC 96030000 */  lhu   $v1, ($s0)
/* 008200 80007600 306B0080 */  andi  $t3, $v1, 0x80
.L80007604:
/* 008204 80007604 51600010 */  beql  $t3, $zero, .L80007648
/* 008208 80007608 3C0FA440 */   lui   $t7, 0xa440
/* 00820C 8000760C 960D0028 */  lhu   $t5, 0x28($s0)
/* 008210 80007610 3C0103FF */  lui   $at, 0x3ff
/* 008214 80007614 8E040004 */  lw    $a0, 4($s0)
/* 008218 80007618 000D6400 */  sll   $t4, $t5, 0x10
/* 00821C 8000761C 01817024 */  and   $t6, $t4, $at
/* 008220 80007620 AE0E002C */  sw    $t6, 0x2c($s0)
/* 008224 80007624 AFA70038 */  sw    $a3, 0x38($sp)
/* 008228 80007628 AFA60024 */  sw    $a2, 0x24($sp)
/* 00822C 8000762C 0C001378 */  jal   osVirtualToPhysical
/* 008230 80007630 AFA50044 */   sw    $a1, 0x44($sp)
/* 008234 80007634 8FA50044 */  lw    $a1, 0x44($sp)
/* 008238 80007638 8FA60024 */  lw    $a2, 0x24($sp)
/* 00823C 8000763C 8FA70038 */  lw    $a3, 0x38($sp)
/* 008240 80007640 00402025 */  move  $a0, $v0
/* 008244 80007644 3C0FA440 */  lui   $t7, %hi(D_A4400020) # $t7, 0xa440
.L80007648:
/* 008248 80007648 ADE40004 */  sw    $a0, %lo(D_A4400004)($t7)
/* 00824C 8000764C 8CB80008 */  lw    $t8, 8($a1)
/* 008250 80007650 3C19A440 */  lui   $t9, %hi(D_A4400008) # $t9, 0xa440
/* 008254 80007654 3C09A440 */  lui   $t1, %hi(D_A4400014) # $t1, 0xa440
/* 008258 80007658 AF380008 */  sw    $t8, %lo(D_A4400008)($t9)
/* 00825C 8000765C 8CA8000C */  lw    $t0, 0xc($a1)
/* 008260 80007660 3C0BA440 */  lui   $t3, %hi(D_A4400018) # $t3, 0xa440
/* 008264 80007664 3C0CA440 */  lui   $t4, %hi(D_A440001C) # $t4, 0xa440
/* 008268 80007668 AD280014 */  sw    $t0, %lo(D_A4400014)($t1)
/* 00826C 8000766C 8CAA0010 */  lw    $t2, 0x10($a1)
/* 008270 80007670 3C18A440 */  lui   $t8, %hi(D_A4400034) # $t8, 0xa440
/* 008274 80007674 3C08A440 */  lui   $t0, %hi(D_A4400028) # $t0, 0xa440
/* 008278 80007678 AD6A0018 */  sw    $t2, %lo(D_A4400018)($t3)
/* 00827C 8000767C 8CAD0014 */  lw    $t5, 0x14($a1)
/* 008280 80007680 3C0AA440 */  lui   $t2, %hi(D_A440002C) # $t2, 0xa440
/* 008284 80007684 3C028001 */  lui   $v0, %hi(D_8000AF00) # $v0, 0x8001
/* 008288 80007688 AD8D001C */  sw    $t5, %lo(D_A440001C)($t4)
/* 00828C 8000768C 8CAE0018 */  lw    $t6, 0x18($a1)
/* 008290 80007690 3C0DA440 */  lui   $t5, %hi(D_A440000C) # $t5, 0xa440
/* 008294 80007694 2442AF00 */  addiu $v0, %lo(D_8000AF00) # addiu $v0, $v0, -0x5100
/* 008298 80007698 ADEE0020 */  sw    $t6, %lo(D_A4400020)($t7)
/* 00829C 8000769C AF070024 */  sw    $a3, %lo(D_A4400024)($t8)
/* 0082A0 800076A0 8FB90034 */  lw    $t9, 0x34($sp)
/* 0082A4 800076A4 3C0EA440 */  lui   $t6, %hi(D_A4400030) # $t6, 0xa440
/* 0082A8 800076A8 3C038001 */  lui   $v1, %hi(D_8000AF04) # $v1, 0x8001
/* 0082AC 800076AC AD190028 */  sw    $t9, %lo(D_A4400028)($t0)
/* 0082B0 800076B0 8CC90034 */  lw    $t1, 0x34($a2)
/* 0082B4 800076B4 2463AF04 */  addiu $v1, %lo(D_8000AF04) # addiu $v1, $v1, -0x50fc
/* 0082B8 800076B8 AD49002C */  sw    $t1, %lo(D_A440002C)($t2)
/* 0082BC 800076BC 8CCB0038 */  lw    $t3, 0x38($a2)
/* 0082C0 800076C0 ADAB000C */  sw    $t3, %lo(D_A440000C)($t5)
/* 0082C4 800076C4 8E0C0020 */  lw    $t4, 0x20($s0)
/* 0082C8 800076C8 02005825 */  move  $t3, $s0
/* 0082CC 800076CC ADCC0030 */  sw    $t4, %lo(D_A4400030)($t6)
/* 0082D0 800076D0 8E0F002C */  lw    $t7, 0x2c($s0)
/* 0082D4 800076D4 260C0030 */  addiu $t4, $s0, 0x30
/* 0082D8 800076D8 AF0F0034 */  sw    $t7, %lo(D_A4400034)($t8)
/* 0082DC 800076DC 8E19000C */  lw    $t9, 0xc($s0)
/* 0082E0 800076E0 AD190000 */  sw    $t9, ($t0)
/* 0082E4 800076E4 8C4A0000 */  lw    $t2, ($v0)
/* 0082E8 800076E8 AC500000 */  sw    $s0, ($v0)
/* 0082EC 800076EC AC6A0000 */  sw    $t2, ($v1)
.L800076F0:
/* 0082F0 800076F0 8D610000 */  lw    $at, ($t3)
/* 0082F4 800076F4 256B000C */  addiu $t3, $t3, 0xc
/* 0082F8 800076F8 254A000C */  addiu $t2, $t2, 0xc
/* 0082FC 800076FC AD41FFF4 */  sw    $at, -0xc($t2)
/* 008300 80007700 8D61FFF8 */  lw    $at, -8($t3)
/* 008304 80007704 AD41FFF8 */  sw    $at, -8($t2)
/* 008308 80007708 8D61FFFC */  lw    $at, -4($t3)
/* 00830C 8000770C 156CFFF8 */  bne   $t3, $t4, .L800076F0
/* 008310 80007710 AD41FFFC */   sw    $at, -4($t2)
/* 008314 80007714 8FBF001C */  lw    $ra, 0x1c($sp)
/* 008318 80007718 8FB00018 */  lw    $s0, 0x18($sp)
/* 00831C 8000771C 27BD0048 */  addiu $sp, $sp, 0x48
/* 008320 80007720 03E00008 */  jr    $ra
/* 008324 80007724 00000000 */   nop   
