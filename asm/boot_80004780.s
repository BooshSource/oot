.include "macro.inc"

# assembler directives
.set noat      # allow manual use of $at
.set noreorder # don't insert nops after branches
.set gp=64     # allow use of 64-bit general purposee registers

.section .text

.align 4

glabel func_80004780
/* 005380 80004780 27BDFFD0 */  addiu $sp, $sp, -0x30
/* 005384 80004784 AFB00020 */  sw    $s0, 0x20($sp)
/* 005388 80004788 3C108001 */  lui   $s0, %hi(D_8000AD60) # $s0, 0x8001
/* 00538C 8000478C 2610AD60 */  addiu $s0, %lo(D_8000AD60) # addiu $s0, $s0, -0x52a0
/* 005390 80004790 8E0E0000 */  lw    $t6, ($s0)
/* 005394 80004794 AFBF0024 */  sw    $ra, 0x24($sp)
/* 005398 80004798 AFA40030 */  sw    $a0, 0x30($sp)
/* 00539C 8000479C AFA50034 */  sw    $a1, 0x34($sp)
/* 0053A0 800047A0 15C0004E */  bnez  $t6, .L800048DC
/* 0053A4 800047A4 AFA60038 */   sw    $a2, 0x38($sp)
/* 0053A8 800047A8 00A02025 */  move  $a0, $a1
/* 0053AC 800047AC 00C02825 */  move  $a1, $a2
/* 0053B0 800047B0 0C001874 */  jal   osCreateMesgQueue
/* 0053B4 800047B4 00E03025 */   move  $a2, $a3
/* 0053B8 800047B8 3C048001 */  lui   $a0, %hi(D_80015870) # $a0, 0x8001
/* 0053BC 800047BC 3C058001 */  lui   $a1, %hi(D_80015888) # $a1, 0x8001
/* 0053C0 800047C0 24A55888 */  addiu $a1, %lo(D_80015888) # addiu $a1, $a1, 0x5888
/* 0053C4 800047C4 24845870 */  addiu $a0, %lo(D_80015870) # addiu $a0, $a0, 0x5870
/* 0053C8 800047C8 0C001874 */  jal   osCreateMesgQueue
/* 0053CC 800047CC 24060001 */   li    $a2, 1
/* 0053D0 800047D0 3C0F8001 */  lui   $t7, %hi(D_8000AC90) # $t7, 0x8001
/* 0053D4 800047D4 8DEFAC90 */  lw    $t7, %lo(D_8000AC90)($t7)
/* 0053D8 800047D8 15E00003 */  bnez  $t7, .L800047E8
/* 0053DC 800047DC 00000000 */   nop   
/* 0053E0 800047E0 0C000BE8 */  jal   func_80002FA0
/* 0053E4 800047E4 00000000 */   nop   
.L800047E8:
/* 0053E8 800047E8 3C058001 */  lui   $a1, %hi(D_80015870) # $a1, 0x8001
/* 0053EC 800047EC 3C062222 */  lui   $a2, (0x22222222 >> 16) # lui $a2, 0x2222
/* 0053F0 800047F0 34C62222 */  ori   $a2, (0x22222222 & 0xFFFF) # ori $a2, $a2, 0x2222
/* 0053F4 800047F4 24A55870 */  addiu $a1, %lo(D_80015870) # addiu $a1, $a1, 0x5870
/* 0053F8 800047F8 0C001488 */  jal   func_80005220
/* 0053FC 800047FC 24040008 */   li    $a0, 8
/* 005400 80004800 2418FFFF */  li    $t8, -1
/* 005404 80004804 AFB80028 */  sw    $t8, 0x28($sp)
/* 005408 80004808 0C001944 */  jal   osGetThreadPri
/* 00540C 8000480C 00002025 */   move  $a0, $zero
/* 005410 80004810 8FB90030 */  lw    $t9, 0x30($sp)
/* 005414 80004814 00002025 */  move  $a0, $zero
/* 005418 80004818 0059082A */  slt   $at, $v0, $t9
/* 00541C 8000481C 10200003 */  beqz  $at, .L8000482C
/* 005420 80004820 03202825 */   move  $a1, $t9
/* 005424 80004824 0C00190C */  jal   osSetThreadPri
/* 005428 80004828 AFA20028 */   sw    $v0, 0x28($sp)
.L8000482C:
/* 00542C 8000482C 0C001CA0 */  jal   __osDisableInt
/* 005430 80004830 00000000 */   nop   
/* 005434 80004834 8FA90034 */  lw    $t1, 0x34($sp)
/* 005438 80004838 8FAF0030 */  lw    $t7, 0x30($sp)
/* 00543C 8000483C 3C048001 */  lui   $a0, %hi(D_800146C0) # $a0, 0x8001
/* 005440 80004840 3C0A8001 */  lui   $t2, %hi(D_80015870) # $t2, 0x8001
/* 005444 80004844 3C0B8001 */  lui   $t3, %hi(D_800145A8) # $t3, 0x8001
/* 005448 80004848 3C0C8000 */  lui   $t4, %hi(func_80004D10) # $t4, 0x8000
/* 00544C 8000484C 3C0D8000 */  lui   $t5, %hi(func_800066E0) # $t5, 0x8000
/* 005450 80004850 3C0E8001 */  lui   $t6, %hi(D_80015870) # $t6, 0x8001
/* 005454 80004854 248446C0 */  addiu $a0, %lo(D_800146C0) # addiu $a0, $a0, 0x46c0
/* 005458 80004858 24080001 */  li    $t0, 1
/* 00545C 8000485C 254A5870 */  addiu $t2, %lo(D_80015870) # addiu $t2, $t2, 0x5870
/* 005460 80004860 256B45A8 */  addiu $t3, %lo(D_800145A8) # addiu $t3, $t3, 0x45a8
/* 005464 80004864 258C4D10 */  addiu $t4, %lo(func_80004D10) # addiu $t4, $t4, 0x4d10
/* 005468 80004868 25AD66E0 */  addiu $t5, %lo(func_800066E0) # addiu $t5, $t5, 0x66e0
/* 00546C 8000486C 25CE5870 */  addiu $t6, %lo(D_80015870) # addiu $t6, $t6, 0x5870
/* 005470 80004870 3C068000 */  lui   $a2, %hi(func_80004900) # $a2, 0x8000
/* 005474 80004874 AFA2002C */  sw    $v0, 0x2c($sp)
/* 005478 80004878 AE080000 */  sw    $t0, ($s0)
/* 00547C 8000487C AE040004 */  sw    $a0, 4($s0)
/* 005480 80004880 AE0A000C */  sw    $t2, 0xc($s0)
/* 005484 80004884 AE0B0010 */  sw    $t3, 0x10($s0)
/* 005488 80004888 AE0C0014 */  sw    $t4, 0x14($s0)
/* 00548C 8000488C AE0D0018 */  sw    $t5, 0x18($s0)
/* 005490 80004890 24C64900 */  addiu $a2, %lo(func_80004900) # addiu $a2, $a2, 0x4900
/* 005494 80004894 AFAE0010 */  sw    $t6, 0x10($sp)
/* 005498 80004898 00002825 */  move  $a1, $zero
/* 00549C 8000489C 02003825 */  move  $a3, $s0
/* 0054A0 800048A0 AE090008 */  sw    $t1, 8($s0)
/* 0054A4 800048A4 0C001154 */  jal   osCreateThread
/* 0054A8 800048A8 AFAF0014 */   sw    $t7, 0x14($sp)
/* 0054AC 800048AC 3C048001 */  lui   $a0, %hi(D_800146C0) # $a0, 0x8001
/* 0054B0 800048B0 0C0023F0 */  jal   osStartThread
/* 0054B4 800048B4 248446C0 */   addiu $a0, %lo(D_800146C0) # addiu $a0, $a0, 0x46c0
/* 0054B8 800048B8 0C001CBC */  jal   func_800072F0
/* 0054BC 800048BC 8FA4002C */   lw    $a0, 0x2c($sp)
/* 0054C0 800048C0 8FB80028 */  lw    $t8, 0x28($sp)
/* 0054C4 800048C4 2401FFFF */  li    $at, -1
/* 0054C8 800048C8 00002025 */  move  $a0, $zero
/* 0054CC 800048CC 53010004 */  beql  $t8, $at, .L800048E0
/* 0054D0 800048D0 8FBF0024 */   lw    $ra, 0x24($sp)
/* 0054D4 800048D4 0C00190C */  jal   osSetThreadPri
/* 0054D8 800048D8 03002825 */   move  $a1, $t8
.L800048DC:
/* 0054DC 800048DC 8FBF0024 */  lw    $ra, 0x24($sp)
.L800048E0:
/* 0054E0 800048E0 8FB00020 */  lw    $s0, 0x20($sp)
/* 0054E4 800048E4 27BD0030 */  addiu $sp, $sp, 0x30
/* 0054E8 800048E8 03E00008 */  jr    $ra
/* 0054EC 800048EC 00000000 */   nop   
